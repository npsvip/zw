/**
 * Author and copyright: Stefan Haack (https://shaack.com)
 * Repository: https://github.com/shaack/bootstrap-show-modal
 * License: MIT, see file 'LICENSE'
 */
(function(a){function c(b){this.props={title:"",body:"",footer:"",modalClass:"fade",modalDialogClass:"",options:null,onCreate:null,onDispose:null,onSubmit:null};for(var a in b)this.props[a]=b[a];this.id="bootstrap-show-modal-"+e;e++;this.show()}var e=0;c.prototype.createContainerElement=function(){var b=this;this.element=document.createElement("div");this.element.id=this.id;this.element.setAttribute("class","modal "+this.props.modalClass);this.element.setAttribute("tabindex","-1");this.element.setAttribute("role","dialog");this.element.setAttribute("aria-labelledby",this.id);this.element.innerHTML='\x3cdiv class\x3d"modal-dialog '+this.props.modalDialogClass+'" role\x3d"document"\x3e\x3cdiv class\x3d"modal-content"\x3e\x3cdiv class\x3d"modal-header"\x3e\x3ch5 class\x3d"modal-title"\x3e\x3c/h5\x3e\x3cbutton type\x3d"button" class\x3d"close" data-dismiss\x3d"modal" aria-label\x3d"Close"\x3e\x3cspan aria-hidden\x3d"true"\x3e\x26times;\x3c/span\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-body"\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-footer"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e';document.body.appendChild(this.element);this.titleElement=this.element.querySelector(".modal-title");this.bodyElement=this.element.querySelector(".modal-body");this.footerElement=this.element.querySelector(".modal-footer");a(this.element).on("hidden.bs.modal",function(){b.dispose()});if(this.props.onCreate)this.props.onCreate(this)};c.prototype.show=function(){this.element?a(this.element).modal("show"):(this.createContainerElement(),this.props.options?a(this.element).modal(this.props.options):a(this.element).modal());this.props.title?(a(this.titleElement).show(),this.titleElement.innerHTML=this.props.title):a(this.titleElement).hide();this.props.body?(a(this.bodyElement).show(),this.bodyElement.innerHTML=this.props.body):a(this.bodyElement).hide();this.props.footer?(a(this.footerElement).show(),this.footerElement.innerHTML=this.props.footer):a(this.footerElement).hide()};c.prototype.hide=function(){a(this.element).modal("hide")};c.prototype.dispose=function(){a(this.element).modal("dispose");document.body.removeChild(this.element);if(this.props.onDispose)this.props.onDispose(this)};a.extend({showModal:function(b){if(b.buttons){var a="",d;for(d in b.buttons)a+='\x3cbutton type\x3d"button" class\x3d"btn btn-primary" data-value\x3d"'+d+'" data-dismiss\x3d"modal"\x3e'+b.buttons[d]+"\x3c/button\x3e";b.footer=a}return new c(b)},showAlert:function(a){a.buttons={OK:"OK"};return this.showModal(a)},showConfirm:function(b){b.footer='\x3cbutton class\x3d"btn btn-secondary btn-false btn-cancel"\x3e'+b.textFalse+'\x3c/button\x3e\x3cbutton class\x3d"btn btn-primary btn-true"\x3e'+b.textTrue+"\x3c/button\x3e";b.onCreate=function(b){a(b.element).on("click",".btn",function(a){a.preventDefault();b.hide();b.props.onSubmit(-1!==a.target.getAttribute("class").indexOf("btn-true"),b)})};return this.showModal(b)}})})(jQuery);